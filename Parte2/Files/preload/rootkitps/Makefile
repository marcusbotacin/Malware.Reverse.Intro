compilelib: fakeps.c
	gcc -shared -fPIC fakeps.c -o fakeps.so -ldl

run: fakeps.so
	LD_PRELOAD=./fakeps.so ps -e

compilesafe: safeps.c
	gcc safeps.c -o safeps.bin

runsafe:  safeps.bin
	./safeps.bin

runsafe2: fakeps.so safeps.bin
	LD_PRELOAD=./fakeps.so ./safeps.bin

clean:
	rm -rf fakeps.so safeps.bin
